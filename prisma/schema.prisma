generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Campaign {
  id                String   @id @default(cuid())
  campaignTweetId   String   @unique
  status            String   @default("active")
  createdAt         DateTime @default(now())
}

model AirdropRegistration {
  id               String    @id @default(cuid())
  twitterUserId    String
  twitterUsername  String?
  privyUserId      String?
  walletAddress    String
  repostedAt       DateTime?
  airdroppedAt     DateTime?
  amount           String?
  createdAt        DateTime  @default(now())

  @@unique([twitterUserId])
}

model UsdcClaim {
  id             String   @id @default(cuid())
  walletAddress  String   @unique
  claimedAt      DateTime @default(now())
}

model WalletSignup {
  id            String   @id @default(cuid())
  walletAddress String   @unique
  createdAt     DateTime @default(now())
}

model MiniApp {
  id          String   @id @default(cuid())
  name        String
  description String
  imageUrl    String
  url         String
  manifestUrl String?
  tags        String?
  devBalance  String?  // e.g. "1M", "461.1K" for sort/display
  verified    Boolean  @default(true)
  createdAt   DateTime @default(now())
}
